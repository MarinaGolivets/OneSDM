% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_user.R
\name{prepare_user_data}
\alias{prepare_user_data}
\title{Process and Validate User Observation Coordinates}
\usage{
prepare_user_data(coordinates = NULL, model_dir = NULL)
}
\arguments{
\item{coordinates}{A data frame or matrix containing longitude and latitude
values. Must have exactly two columns. If not provided directly, the
function will attempt to retrieve it from the \code{onestop_coordinates} option.}

\item{model_dir}{Character. Path to the modelling directory where data and
fitted models will be saved. This can not be \code{NULL} and should be the same
directory used for the same species data. This can also be set via the
\code{onestop_model_dir} option.}
}
\value{
(Invisibly) The file path to the saved \code{user_coordinates.RData} file.
}
\description{
This function processes a set of user-provided geographic coordinates,
validates their structure and values, converts them into a spatial object,
and saves the result to a specified model directory.
}
\details{
The function performs the following steps:
\itemize{
\item Validates that \code{coordinates} has at least one row and exactly two columns.
\item Ensures that the columns represent numeric longitude and latitude values
within valid ranges (longitude: \verb{[-180, 180]}, latitude: \verb{[-90, 90]}).
\item Converts the coordinates to a tibble with standardized column names.
\item Removes rows with missing or out-of-range values.
\item Converts the cleaned coordinates to an \code{sf} spatial object (WGS84,
EPSG:4326).
\item Saves the resulting spatial object as \code{data/user_coordinates.RData} in
\code{model_dir}.
}
}
\examples{
\dontrun{
  coords <- data.frame(lon = c(10, 20), lat = c(50, 60))
  prepare_user_data(coords, model_dir = "path/to/model_dir")
}

}
\author{
Ahmed El-Gabbas
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_osf.R
\name{get_sampling_efforts}
\alias{get_sampling_efforts}
\title{Get sampling effort (bias) raster for a taxonomic group}
\usage{
get_sampling_efforts(
  bias_group = NULL,
  resolution = 10L,
  climate_dir = NULL,
  return_spatraster = TRUE,
  verbose = FALSE
)
}
\arguments{
\item{bias_group}{character scalar. Taxonomic group for which to obtain the
bias raster. Valid values are \code{"amphibians"}, \code{"birds"}, \code{"mammals"},
\code{"molluscs"}, \code{"plants"} and \code{"reptiles"}.}

\item{resolution}{integer scalar. Target spatial resolution (see
\code{\link[=get_mask_layer]{get_mask_layer()}}) used to disaggregate the 1° bias grid. Defaults
to \code{10L}.}

\item{climate_dir}{character. Path to the directory where the output bias
TIFF should be stored (and where existing bias TIFFs are checked).}

\item{return_spatraster}{logical. If \code{TRUE} (default) the function returns a
\code{SpatRaster} object (invisibly). If \code{FALSE} the function returns
(invisibly) the path to the written TIFF file.}

\item{verbose}{logical. If \code{TRUE}, prints progress and informative messages.
Defaults to \code{FALSE}.}
}
\value{
Invisibly returns either:
\itemize{
\item a \code{SpatRaster} (if \code{return_spatraster = TRUE}), or
\item a character scalar with the path to the written TIFF (if
\code{return_spatraster = FALSE}).
}
}
\description{
Download and prepare a sampling-effort (bias) raster for a specified
taxonomic group. If a precomputed bias TIFF already exists in the provided
climate directory it will be returned; otherwise the function downloads a 1°
bias grid from Davis \emph{et al.} 2023, available at
\href{https://zenodo.org/records/7556851}{Zenodo}, projects/disaggregates it to
the requested resolution using the study mask, masks out invalid cells, names
the layer, and writes a compressed GeoTIFF to disk.
}
\details{
The function:
\itemize{
\item constructs a target output filename of the form
\code{"bias_<bias_group>_res_<resolution>.tif"} in \code{climate_dir};
\item if the file exists, returns it (as a \code{SpatRaster} or path depending on
\code{return_spatraster});
\item otherwise downloads the appropriate 1° bias raster from Zenodo, projects
it to the study mask resolution via \code{\link[=get_mask_layer]{get_mask_layer()}}, converts
\code{NA} values to zeros, applies the mask, sets a descriptive layer name, and
writes a compressed GeoTIFF (ZSTD compression, tiled) to disk.
}
}
\examples{
\dontrun{
# Return a `SpatRaster` for birds at resolution 10
r <- get_sampling_efforts(
  bias_group = "birds", resolution = 10L, climate_dir = "climate_data")
r

# Only return path to file after creation
path <- get_sampling_efforts(
  bias_group = "mammals", resolution = 5L, climate_dir = "climate_data",
  return_spatraster = FALSE)
path

terra::rast(path)
}

}
\author{
Ahmed El-Gabbas
}
